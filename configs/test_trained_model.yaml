root: '/mnt/data/VPR4LQQ'
eval_batch: 100
sheet_col_offset: 1    # this, test_res, use_trained_descs, finetuned, and losses could be set automatically through config_num argument


model_IO:
  weights_path: parameters/RA_VPR
  logs_path: logs/tensorboard_logs

test_data:
  name: "Nordland"
  resolution:    # 2 number list enforces dimension; 1 number chooses height and preserves aspect ratio
    180p: 180    # [height, width]
    240p: 240
    360p: 360
    480p: 480
  compressions:
    90%: 10    # value given to quality parameter in pillow.Image.save
  test_res: 90%
  use_trained_descs: true    # Whether to use database global descriptors generated by trained models

train_conf:
  batch_size: 15
  num_worker: 5
  num_cluster: 64
  multiGPU: false
  lr: 0.000001
  lr_decay: 0.000000000002
  exponential_gamma: 0.99999
  data:
    name: GSV-Cities
    resolution: 90%
    qp: -1
  cluster:
    descriptor_num: 500000
    descriptor_per_image: 100
    dimension: 512
  finetuned: false    # Testing finetuned models overrides model selection via enabled losses
  loss:
    distill: false
    vlad: false
    triplet: false
  triplet_loss:
    posDistThr: 30
    nonTrivPosDistSqThr: 20
    nPosSample: 1
    nNegSample: 5
    margin: 0.2

vpr:
  topk:
    - 1
    - 2
    - 5
    - 10
    - 15
    - 20
    - 25
  threshold:
    - 25
  global_extractor:
    # If netvlad is used, then remaining methods are ignored given GlobalExtractor preprocess=False
    NetVlad:
      use: true
      ckpt_path: 'parameters/netvlad/paper/checkpoints'
      arch: 'vgg16'
      num_clusters: 64
      pooling: 'netvlad'
      vladv2: false
      nocuda: false
    MixVPR:
      use: true
      ckpt_path: 'parameters/MixVPR/ckpts/resnet50_MixVPR_4096_channels(1024)_rows(4).ckpt'
      pt_img_size: [320, 320]    # The input image resolution for MixVPR's pretrained weights
      cuda: true
    AnyLoc:
      use: true
      model_type: 'dinov2_vitg14'    # One of the following: "dinov2_vit<s|b|l|g>14"; should be same between training and testing
      ckpt_path: 'None'    # If set to 'None', loads model_type from PyTorch Hub
      max_image_size: 1024    # To prevent out of memory
      desc_layer: 31
      desc_facet: 'value'    # one of "query", "key", "value", "token"
      num_clusters: 32
      domain: 'indoor'    # one of "aerial", "indoor", "urban"
      cache_dir: 'parameters/AnyLoc/demo/cache'
      cuda: true
    DinoV2Salad:
      use: true
      ckpt_path: 'parameters/DinoV2Salad/ckpts/dino_salad.ckpt'
      max_image_size: 1024    # To prevent out of memory
      cuda: true
    CricaVPR:
      use: true
      ckpt_path: 'parameters/CricaVPR/ckpts/CricaVPR.pth'
      cuda: true
